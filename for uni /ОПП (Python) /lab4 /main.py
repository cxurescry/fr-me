'''
для корректного отображения нужно установить:
pip install matplotlib numpy
'''

# Импортируем необходимые библиотеки
import matplotlib.pyplot as plt  # для построения графиков
import numpy as np  # для математических расчётов и массивов
import matplotlib.image as mpimg  # для загрузки изображений


# Создаём фигуру с 6 областями (2 строки × 3 столбца)
# figsize — задаёт общий размер рисунка в дюймах (16 x 12)
fig, axs = plt.subplots(2, 3, figsize=(16, 12))


# 1.1 — Первая область: загрузка фотографии или иллюстрации
try:
    # Загружаем изображение (укажи путь к своему файлу)
    img = mpimg.imread("/Users/luaew/Downloads/walloutside2.jpg")

    # Отображаем фото в первой области (ячейка [0,0])
    axs[0, 0].imshow(img)

    # Добавляем заголовок к области
    axs[0, 0].set_title("Моя фотография / иллюстрация")
except FileNotFoundError:
    # Если файл не найден, выводим текст вместо фото
    axs[0, 0].text(0.5, 0.5, "Изображение не найдено",
                   ha='center', va='center', fontsize=14)
# Убираем оси, чтобы фото выглядело аккуратно
axs[0, 0].axis('off')

# 1.2 — Вторая область: стандартный график Python с заливкой
# Создаём массив значений x от 0 до 10 с шагом
x = np.linspace(0, 10, 200)
# Вычисляем y = sin(x)
y = np.sin(x)

# Строим график
axs[0, 1].plot(x, y, color='blue')
# Добавляем заливку под кривой
axs[0, 1].fill_between(x, y, color='lightblue', alpha=0.5)
# Добавляем заголовок
axs[0, 1].set_title("Стандартный график Python с заливкой")


# 2.1 — Третья область: столбчатая диаграмма с аннотацией
categories = ['A', 'B', 'C', 'D']  # подписи категорий
values = [12, 7, 9, 15]  # значения
# Строим столбцы
bars = axs[0, 2].bar(categories, values, color='skyblue')
# Добавляем заголовок
axs[0, 2].set_title("Столбчатая диаграмма с аннотацией")

# Подписываем значения над столбцами
for bar in bars:
    axs[0, 2].text(bar.get_x() + bar.get_width() / 2,  # центр столбца
                   bar.get_height() + 0.3,  # чуть выше верхушки
                   str(bar.get_height()),  # значение
                   ha='center', fontsize=10)

# 2.2 — Четвёртая область: график функций с легендой
# Создаём значения x в диапазоне [-5; 5]
x = np.linspace(-5, 5, 300)
# Строим две функции: y = x^2 и y = sin(x)
axs[1, 0].plot(x, x ** 2, label='y = x²', color='red')
axs[1, 0].plot(x, np.sin(x), label='y = sin(x)', color='green')
# Добавляем заголовок и легенду
axs[1, 0].set_title("Графики функций с легендой")
axs[1, 0].legend()

# 2.3 — Пятая область: диаграмма рассеяния (scatter)
# Генерируем случайные точки
x = np.random.rand(50)
y = np.random.rand(50)
# Строим scatter-график
axs[1, 1].scatter(x, y, color='purple')
axs[1, 1].set_title("Диаграмма рассеяния (разброс)")

# 2.4 — Шестая область: график фигур Лиссажу
# Генерируем значения параметра t
t = np.linspace(0, 2 * np.pi, 1000)
# Определяем координаты фигур Лиссажу
x = np.sin(3 * t + np.pi / 2)
y = np.sin(4 * t)
# Строим график
axs[1, 2].plot(x, y)
axs[1, 2].set_title("Фигуры Лиссажу")


# Подгоняем расстояние между графиками, чтобы не было наложений
plt.tight_layout()

# Сохраняем готовый рисунок в файл (в той же папке)
plt.savefig("lab_4_5_result.png", dpi=300)

# Отображаем итоговый рисунок на экране
plt.show()
